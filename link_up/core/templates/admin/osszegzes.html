{% extends 'admin/base_admin.html' %}

{% block content %}
<div class="container py-5">
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-primary text-white">
            <h3 class="mb-0">üìä Rendszer√∂sszegz√©s az adminisztr√°torok sz√°m√°ra</h3>
        </div>
        <div class="card-body">
            <ul class="list-group list-group-flush fs-5">
                <li class="list-group-item">üë®‚Äçüíº Adminisztr√°torok sz√°ma: <strong>{{ adminok_szama }}</strong></li>
                <li class="list-group-item">üë• Felhaszn√°l√≥k sz√°ma: <strong>{{ felhasznalok_szama }}</strong></li>
                <li class="list-group-item">üìö Csoportok sz√°ma: <strong>{{ csoportok_szama }}</strong></li>
                <li class="list-group-item">üìù Bejegyz√©sek sz√°ma: <strong>{{ bejegyzesek_szama }}</strong></li>
                <li class="list-group-item">üí¨ Kommentek sz√°ma: <strong>{{ kommentek_szama }}</strong></li>
                <li class="list-group-item">üì® √úzenetek sz√°ma: <strong>{{ uzenetek_szama }}</strong></li>
            </ul>
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-success text-white">
            <h4 class="mb-0">üó®Ô∏è Legakt√≠vabb kommentel≈ëk</h4>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead><tr><th>Felhaszn√°l√≥n√©v</th><th>Kommentek sz√°ma</th></tr></thead>
                <tbody>
                    {% for nev, szam in komment_aktivitas %}
                    <tr><td>{{ nev }}</td><td>{{ szam }}</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-info text-white">
            <h4 class="mb-0">üë• Csoportok bejegyz√©ssz√°ma</h4>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead><tr><th>Csoport neve</th><th>Bejegyz√©sek sz√°ma</th></tr></thead>
                <tbody>
                    {% for nev, szam in csoport_bejegyzesek %}
                    <tr><td>{{ nev }}</td><td>{{ szam }}</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-warning text-dark">
            <h4 class="mb-0">üîí Priv√°t besz√©lget√©sben r√©sztvev≈ë felhaszn√°l√≥k</h4>
        </div>
        <div class="card-body">
            <ul class="list-group">
                {% for felhasznalo in privat_felhasznalok %}
                <li class="list-group-item">{{ felhasznalo.0 }}</li>
                {% empty %}
                <li class="list-group-item">Nincs ilyen felhaszn√°l√≥.</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="card shadow-sm mb-5">
        <div class="card-header bg-secondary text-white">
            <h4 class="mb-0">üìè √Åtlagos kommenthossz felhaszn√°l√≥nk√©nt</h4>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead><tr><th>Felhaszn√°l√≥n√©v</th><th>√Åtlag hossz (karakter)</th></tr></thead>
                <tbody>
                    {% for nev, atlag in komment_hossz %}
                    <tr><td>{{ nev }}</td><td>{{ atlag|floatformat:1 }}</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

 <div class="card shadow-sm mb-4">
        <div class="card-header bg-danger text-white">
            <h4 class="mb-0">üèÜ Legt√∂bb √ºzenetet k√ºld≈ë csoport (aktu√°lis h√≥nap)</h4>
        </div>
        <div class="card-body">
            {% if honap_legtobb_uzenet_csoport %}
            <p class="fs-5">
                <strong>{{ honap_legtobb_uzenet_csoport.1 }}</strong> csoport ‚Äì 
                <strong>{{ honap_legtobb_uzenet_csoport.2 }}</strong> √ºzenet
            </p>
            {% else %}
            <p class="text-muted">Nincs el√©rhet≈ë adat erre a h√≥napra.</p>
            {% endif %}
        </div>
    </div>

    <div class="card shadow-sm mb-5">
        <div class="card-header bg-dark text-white">
            <h4 class="mb-0">ü•á Legakt√≠vabb felhaszn√°l√≥k (aktu√°lis h√≥nap)</h4>
        </div>
        <div class="card-body">
            {% if honap_legtobb_uzenet_top_3 %}
            <table class="table table-striped">
                <thead>
                    <tr><th>Felhaszn√°l√≥n√©v</th><th>Aktivit√°sok sz√°ma</th></tr>
                </thead>
                <tbody>
                    {% for felhasznalo in honap_legtobb_uzenet_top_3 %}
                    <tr>
                        <td>{{ felhasznalo.1 }}</td>
                        <td>{{ felhasznalo.2 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p class="text-muted">Nincs el√©rhet≈ë adat erre a h√≥napra.</p>
            {% endif %}
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-danger text-white">
            <h4 class="mb-0">üî• Akt√≠v felhaszn√°l√≥k az el≈ëz≈ë h√≥napb√≥l</h4>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead><tr><th>Felhaszn√°l√≥n√©v</th><th>√úzenetek sz√°ma</th><th>Utols√≥ bejelentkez√©s</th></tr></thead>
                <tbody>
                    {% for nev, uzenetek_szama, bejelentkezes in aktiv_felhasznalok %}
                    <tr>
                        <td>{{ nev }}</td>
                        <td>{{ uzenetek_szama }}</td>
                        <td>{{ bejelentkezes }}</td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="3">Nincs akt√≠v felhaszn√°l√≥ az el≈ëz≈ë h√≥napb√≥l.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="card shadow-sm mb-5">
        <div class="card-header bg-dark text-white">
            <h4 class="mb-0">üèÜ Akt√≠v csoportok t√∂bb adminnal</h4>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead><tr><th>Csoport n√©v</th><th>Adminok sz√°ma</th><th>Bejegyz√©sek sz√°ma</th></tr></thead>
                <tbody>
                    {% for nev, admin_db, bejegyzesek_szama in admin_aktiv_csoportok %}
                    <tr>
                        <td>{{ nev }}</td>
                        <td>{{ admin_db }}</td>
                        <td>{{ bejegyzesek_szama }}</td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="3">Nincs ilyen csoport.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
